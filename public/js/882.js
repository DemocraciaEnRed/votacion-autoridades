(self.webpackChunk=self.webpackChunk||[]).push([[882],{882:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>c});var a=s(7757),i=s.n(a);function n(t,e,s,a,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void s(t)}o.done?e(l):Promise.resolve(l).then(a,i)}const r={name:"RollRequestForm",data:function(){return{loading:!1,email:{type:"",message:""}}},computed:{auth:function(){return this.$store.state.auth}},methods:{cleanErrors:function(){this.email.type="",this.email.message=""},showErrors:function(t){this.email.type="is-danger",this.email.message=t.message},submit:function(){var t,e=this;return(t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.cleanErrors(),t.next=4,axios.post("/api/auth/take-census",{email:e.auth.form.email}).then((function(){e.auth.roll_request_step=1})).catch((function(t){var s=t.response;200!=s.status&&e.showErrors(s.data)}));case 4:e.loading=!1;case 5:case"end":return t.stop()}}),t)})),function(){var e=this,s=arguments;return new Promise((function(a,i){var r=t.apply(e,s);function o(t){n(r,a,i,o,l,"next",t)}function l(t){n(r,a,i,o,l,"throw",t)}o(void 0)}))})()}}};var o=s(1900);const l={name:"RollRequestSent",computed:{auth:function(){return this.$store.state.auth}}};const u={name:"RollRequest",components:{RollRequestForm:(0,o.Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box is-small"},[s("div",{staticClass:"box-inner"},[s("div",{staticClass:"icon-wrapper mb-4"},[s("icon",{staticClass:"has-text-primary",attrs:{icon:"exclamation",size:"3x"}})],1),t._v(" "),s("h1",{staticClass:"title has-text-primary is-4 mb-6"},[t._v("\n      Parece que no estás en el padrón\n    ")]),t._v(" "),s("h2",{staticClass:"subtitle mb-6"},[t._v("\n      Si quieres participar, proporcionanos un mail para que se contacten con vos\n    ")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("b-field",{staticClass:"mb-5",attrs:{label:"Email",type:t.email.type,message:t.email.message}},[s("b-input",{model:{value:t.auth.form.email,callback:function(e){t.$set(t.auth.form,"email",e)},expression:"auth.form.email"}})],1),t._v(" "),s("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":t.loading},attrs:{disabled:!t.auth.form.email,type:"submit"}},[t._v("\n        Enviar solicitud\n      ")])],1),t._v(" "),s("router-link",{staticClass:"button is-primary is-outlined is-fullwidth mt-4",attrs:{to:{name:"roll-check"}}},[t._v("\n      Volver a verificar\n    ")])],1)])}),[],!1,null,null,null).exports,RollRequestSent:(0,o.Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box is-small"},[s("div",{staticClass:"box-inner"},[s("div",{staticClass:"icon-wrapper mb-4"},[s("icon",{staticClass:"has-text-primary",attrs:{icon:"check",size:"3x"}})],1),t._v(" "),s("h1",{staticClass:"title has-text-primary is-4 mb-6"},[t._v("\n      ¡Solicitud enviada con éxito!\n    ")]),t._v(" "),s("h2",{staticClass:"subtitle mb-4"},[t._v("\n      En breve, el administrador se pondrá en contacto contigo a través del mail proporcionado:\n      "),s("div",{staticClass:"mt-2 is-size-4 has-text-weight-bold"},[t._v(t._s(t.auth.form.email))])]),t._v(" "),s("p",{staticClass:"mb-6"},[t._v("Recuerda revisar el spam o correo no deseado.")]),t._v(" "),s("router-link",{staticClass:"button is-primary is-outlined is-fullwidth mt-4",attrs:{to:{name:"home"}}},[t._v("\n      Volver al inicio\n    ")])],1)])}),[],!1,null,null,null).exports},computed:{auth:function(){return this.$store.state.auth}},beforeRouteLeave:function(t,e,s){this.$store.dispatch("resetAuth"),s()}};const c=(0,o.Z)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{staticClass:"container has-text-centered"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[0==t.auth.roll_request_step?s("RollRequestForm"):t._e(),t._v(" "),1==t.auth.roll_request_step?s("RollRequestSent"):t._e()],1)],1)])}),[],!1,null,null,null).exports}}]);