(self.webpackChunk=self.webpackChunk||[]).push([[807],{6307:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>m});var i=e(7757),a=e.n(i);function n(t,s,e,i,a,n,r){try{var l=t[n](r),o=l.value}catch(t){return void e(t)}l.done?s(o):Promise.resolve(o).then(i,a)}const r={name:"RollCheckForm",data:function(){return{loading:!1,dni:{value:"",type:"",message:""}}},computed:{auth:function(){return this.$store.state.auth}},methods:{cleanErrors:function(){this.dni.type="",this.dni.message=""},showErrors:function(t){this.dni.type="is-danger",this.dni.message=t.message},submit:function(){var t,s=this;return(t=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.loading=!0,s.cleanErrors(),t.next=4,axios.post("/api/auth/valid-dni",{dni:s.auth.form.dni}).then((function(){s.auth.valid_dni=!0,s.auth.roll_check_step=1})).catch((function(t){s.auth.valid_dni=!1;var e=t.response;409==e.status?s.auth.roll_check_step=2:404==e.status&&s.$router.push({name:"roll-request"})}));case 4:s.loading=!1;case 5:case"end":return t.stop()}}),t)})),function(){var s=this,e=arguments;return new Promise((function(i,a){var r=t.apply(s,e);function l(t){n(r,i,a,l,o,"next",t)}function o(t){n(r,i,a,l,o,"throw",t)}l(void 0)}))})()}}};var l=e(1900);const o={name:"RollCheckRolled"};const c={name:"RollCheckRegistered"};const u={name:"RollCheck",components:{RollCheckForm:(0,l.Z)(r,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"box is-small"},[e("div",{staticClass:"box-inner"},[e("h1",{staticClass:"title has-text-primary is-4 mb-6"},[t._v("\n        Primero necesitamos verificar si está en el censo\n      ")]),t._v(" "),e("h2",{staticClass:"subtitle mb-6"},[t._v("\n        Ingresa tu número de identificación\n      ")]),t._v(" "),e("form",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[e("b-field",{staticClass:"mb-5",attrs:{label:"Nro de Documento",type:t.dni.type,message:t.dni.message}},[e("b-input",{attrs:{type:"number","custom-class":"no-arrows"},model:{value:t.auth.form.dni,callback:function(s){t.$set(t.auth.form,"dni",s)},expression:"auth.form.dni"}})],1),t._v(" "),e("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":t.loading},attrs:{disabled:!(t.auth.form.dni.length>5),type:"submit"}},[t._v("\n      Verificar\n    ")])],1)])]),t._v(" "),e("p",{staticClass:"is-size-5"},[t._v("\n    Ya estoy registrado,"),e("br",{staticClass:"is-visible-mobile"}),t._v("\n    quiero "),e("router-link",{staticClass:"link",attrs:{to:{name:"login"}}},[t._v("iniciar sesión")])],1)])}),[],!1,null,null,null).exports,RollCheckRolled:(0,l.Z)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box is-small"},[e("div",{staticClass:"box-inner"},[e("div",{staticClass:"icon-wrapper mb-4"},[e("icon",{staticClass:"has-text-primary",attrs:{icon:"check",size:"3x"}})],1),t._v(" "),e("h1",{staticClass:"title has-text-primary is-4"},[t._v("\n      Te encuentras en el censo\n    ")]),t._v(" "),e("p",{staticClass:"my-5",staticStyle:{"max-width":"55ch",margin:"auto"}},[t._v("\n      Para poder participar necesitamos que registres tus datos en la plataforma\n    ")]),t._v(" "),e("router-link",{staticClass:"button is-primary is-fullwidth",attrs:{to:{name:"register"}}},[t._v("\n      Registrarme\n    ")]),t._v(" "),e("router-link",{staticClass:"button is-primary is-outlined is-fullwidth mt-4",attrs:{to:{name:"home"}}},[t._v("\n      Volver al inicio\n    ")])],1)])}),[],!1,null,null,null).exports,RollCheckRegistered:(0,l.Z)(c,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box is-small"},[e("div",{staticClass:"box-inner"},[e("div",{staticClass:"icon-wrapper mb-4"},[e("icon",{staticClass:"has-text-primary",attrs:{icon:"check",size:"3x"}})],1),t._v(" "),e("h1",{staticClass:"title has-text-primary is-4 mb-5"},[t._v("\n      Ya te encuentras registrado\n    ")]),t._v(" "),e("p",{staticClass:"mb-4",staticStyle:{"max-width":"55ch",margin:"auto"}},[t._v("\n      Recuerda que el registro consta de dos pasos: confirmación de usuario y validación de identidad.\n    ")]),t._v(" "),e("p",{staticClass:"my-6",staticStyle:{"max-width":"55ch",margin:"auto"}},[t._v("\n      Por favor inicia sesión para poder participar\n    ")]),t._v(" "),e("p",{staticClass:"my-5",staticStyle:{"max-width":"55ch",margin:"auto"}}),t._v(" "),e("router-link",{staticClass:"button is-primary is-fullwidth",attrs:{to:{name:"login"}}},[t._v("\n      Iniciar Sesión\n    ")]),t._v(" "),e("router-link",{staticClass:"button is-primary is-outlined is-fullwidth mt-4",attrs:{to:{name:"home"}}},[t._v("\n      Volver al inicio\n    ")])],1)])}),[],!1,null,null,null).exports},computed:{auth:function(){return this.$store.state.auth}},beforeRouteLeave:function(t,s,e){"register"!=t.name&&this.$store.dispatch("resetAuth"),e()}};const m=(0,l.Z)(u,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("main",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"has-text-centered"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[0==t.auth.roll_check_step?e("RollCheckForm"):t._e(),t._v(" "),1==t.auth.roll_check_step?e("RollCheckRolled"):t._e(),t._v(" "),2==t.auth.roll_check_step?e("RollCheckRegistered"):t._e()],1)],1)])])}),[],!1,null,null,null).exports}}]);